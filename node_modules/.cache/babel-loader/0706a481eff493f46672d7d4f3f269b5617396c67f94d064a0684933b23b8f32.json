{"ast":null,"code":"var _jsxFileName = \"E:\\\\CNPM\\\\Project\\\\App\\\\client\\\\src\\\\menu\\\\TaskList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Button } from '@mui/material';\nimport axios from 'axios';\nimport { format } from 'date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaskList = ({\n  taskTypeId\n}) => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchTasks = async () => {\n      try {\n        const token = localStorage.getItem('authToken');\n        if (!token) {\n          setError('Không tìm thấy token xác thực!');\n          setLoading(false);\n          return;\n        }\n        const response = await axios.get(`http://localhost:3000/api/tasks/by-type/${taskTypeId}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        setTasks(response.data.tasks);\n        setLoading(false);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        console.error('Error fetching tasks:', err);\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Có lỗi xảy ra khi tải dữ liệu');\n        setLoading(false);\n      }\n    };\n    if (taskTypeId) {\n      fetchTasks();\n    }\n  }, [taskTypeId]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u0110ang t\\u1EA3i...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"C\\xF3 l\\u1ED7i x\\u1EA3y ra: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"T\\xEAn c\\xF4ng vi\\u1EC7c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Tr\\u1EA1ng th\\xE1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Ng\\u01B0\\u1EDDi t\\u1EA1o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Th\\u1EDDi gian b\\u1EAFt \\u0111\\u1EA7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Th\\u1EDDi gian k\\u1EBFt th\\xFAc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: tasks.map(task => /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: task.task_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: task.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: task.created_by\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: format(new Date(task.date_begin), 'dd/MM/yyyy')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: task.start_time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: task.end_time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this)]\n        }, task.task_uid, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n_s(TaskList, \"qwRs5Xd4E7WtXCZK9zh6nomhOw4=\");\n_c = TaskList;\nexport default TaskList;\nvar _c;\n$RefreshReg$(_c, \"TaskList\");","map":{"version":3,"names":["React","useState","useEffect","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","axios","format","jsxDEV","_jsxDEV","TaskList","taskTypeId","_s","tasks","setTasks","loading","setLoading","error","setError","fetchTasks","token","localStorage","getItem","response","get","headers","data","err","_err$response","_err$response$data","console","message","children","fileName","_jsxFileName","lineNumber","columnNumber","component","map","task","task_name","status","created_by","Date","date_begin","start_time","end_time","task_uid","_c","$RefreshReg$"],"sources":["E:/CNPM/Project/App/client/src/menu/TaskList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n    Table, \r\n    TableBody, \r\n    TableCell, \r\n    TableContainer, \r\n    TableHead, \r\n    TableRow, \r\n    Paper,\r\n    Button \r\n} from '@mui/material';\r\nimport axios from 'axios';\r\nimport { format } from 'date-fns';\r\n\r\nconst TaskList = ({ taskTypeId }) => {\r\n    const [tasks, setTasks] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchTasks = async () => {\r\n            try {\r\n                const token = localStorage.getItem('authToken');\r\n                if (!token) {\r\n                    setError('Không tìm thấy token xác thực!');\r\n                    setLoading(false);\r\n                    return;\r\n                }\r\n\r\n                const response = await axios.get(\r\n                    `http://localhost:3000/api/tasks/by-type/${taskTypeId}`,\r\n                    {\r\n                        headers: {\r\n                            'Authorization': `Bearer ${token}`\r\n                        }\r\n                    }\r\n                );\r\n                setTasks(response.data.tasks);\r\n                setLoading(false);\r\n            } catch (err) {\r\n                console.error('Error fetching tasks:', err);\r\n                setError(err.response?.data?.message || 'Có lỗi xảy ra khi tải dữ liệu');\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (taskTypeId) {\r\n            fetchTasks();\r\n        }\r\n    }, [taskTypeId]);\r\n\r\n    if (loading) return <div>Đang tải...</div>;\r\n    if (error) return <div>Có lỗi xảy ra: {error}</div>;\r\n\r\n    return (\r\n        <TableContainer component={Paper}>\r\n            <Table>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Tên công việc</TableCell>\r\n                        <TableCell>Trạng thái</TableCell>\r\n                        <TableCell>Người tạo</TableCell>\r\n                        <TableCell>Ngày bắt đầu</TableCell>\r\n                        <TableCell>Thời gian bắt đầu</TableCell>\r\n                        <TableCell>Thời gian kết thúc</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {tasks.map((task) => (\r\n                        <TableRow key={task.task_uid}>\r\n                            <TableCell>{task.task_name}</TableCell>\r\n                            <TableCell>{task.status}</TableCell>\r\n                            <TableCell>{task.created_by}</TableCell>\r\n                            <TableCell>\r\n                                {format(new Date(task.date_begin), 'dd/MM/yyyy')}\r\n                            </TableCell>\r\n                            <TableCell>{task.start_time}</TableCell>\r\n                            <TableCell>{task.end_time}</TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n};\r\n\r\nexport default TaskList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}